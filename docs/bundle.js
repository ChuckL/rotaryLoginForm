(()=>{"use strict";var t={166:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasDrawer=void 0;const s=i(317),n=34,r=160,o={lineWidth:2,color:"#AAAAAA",fill:!1,clip:!1};e.CanvasDrawer=class{constructor(t,e,i,s){this.rotaryBaseCanvas=t,this.rotaryValues=s,this.drawRotaryBase(t),this.drawRotaryDial(e),this.drawRotaryPin(i)}setRotaryValues(t){this.rotaryValues=t,this.drawRotaryBase(this.rotaryBaseCanvas)}drawRotaryBase(t){this.clearCanvas(t),this.drawCircle(t,0,0,285,Object.assign(Object.assign({},o),{lineWidth:4,fill:!0,color:"#454545"})),this.drawCircle(t,0,0,285,Object.assign(Object.assign({},o),{lineWidth:4})),this.rotaryValues.forEach(((e,i)=>{this.drawText(t,218,s.mainOffset+s.rotarySelectOffset*i,n,e),this.drawCircle(t,r,s.mainOffset+s.rotarySelectOffset*i,4,Object.assign(Object.assign({},o),{color:"gold",fill:!0}))}))}drawRotaryDial(t){const e=Object.assign(Object.assign({},o),{color:"#252525",fill:!0});this.drawCircle(t,0,0,200,e);const i=Object.assign(Object.assign({},o),{clip:!0});this.drawCircle(t,r,s.mainOffset+0*s.rotarySelectOffset,n,i),this.drawCircle(t,r,s.mainOffset+1*s.rotarySelectOffset,n,i),this.drawCircle(t,r,s.mainOffset+2*s.rotarySelectOffset,n,i),this.drawCircle(t,r,s.mainOffset+3*s.rotarySelectOffset,n,i),this.drawCircle(t,r,s.mainOffset+4*s.rotarySelectOffset,n,i),this.drawCircle(t,r,s.mainOffset+5*s.rotarySelectOffset,n,i),this.drawCircle(t,r,s.mainOffset+6*s.rotarySelectOffset,n,i),this.drawCircle(t,r,s.mainOffset+7*s.rotarySelectOffset,n,i),this.drawCircle(t,r,s.mainOffset+8*s.rotarySelectOffset,n,i),this.drawCircle(t,r,s.mainOffset+9*s.rotarySelectOffset,n,i),this.drawLineOnCircle(t,-30,30,0),this.drawLineOnCircle(t,-30,30,45),this.drawLineOnCircle(t,-30,30,90),this.drawLineOnCircle(t,-30,30,135)}drawRotaryPin(t){const e=t.getContext("2d"),i=t.width/2,s=t.height/2,{x:n,y:r}=this.circleXY(150,50),{x:o,y:a}=this.circleXY(283,50);e.beginPath(),e.strokeStyle="#EBEBEB",e.fillStyle="#EBEBEB",e.lineWidth=8,e.moveTo(n+i,r+s),e.lineTo(o+i,a+s),e.stroke()}drawLineOnCircle(t,e,i,s){const n=t.getContext("2d"),r=t.width/2,o=t.height/2,{x:a,y:u}=this.circleXY(e,s),{x:l,y:c}=this.circleXY(i,s);n.beginPath(),n.fillStyle="#EBEBEB",n.lineWidth=8,n.moveTo(a+r,u+o),n.lineTo(l+r,c+o),n.stroke()}drawText(t,e,i,s,n){const r=t.getContext("2d"),o=t.width/2,a=t.height/2,{x:u,y:l}=this.circleXY(e,i);if(r.font="28px Arial",r.fillStyle="#EBEBEB",r.textAlign="center",r.textBaseline="middle",r.fillText(n.text[0],u+o,l+a),n.text.length>1){const{x:t,y:e}=this.circleXY(50,i-45),{x:s,y:c}=this.circleXY(40,i),{x:d,y:h}=this.circleXY(50,i+45);r.fillText(n.text[1],t+u+o,e+l+a),r.fillText(n.text[2],s+u+o,c+l+a),r.fillText(n.text[3],d+u+o,h+l+a)}}drawCircle(t,e,i,s,n=o){const r=t.getContext("2d"),a=t.width/2,u=t.height/2,{x:l,y:c}=this.circleXY(e,i);r.beginPath(),r.arc(l+a,c+u,s,0,2*Math.PI,!1),r.lineWidth=n.lineWidth,r.strokeStyle=n.color,n.clip&&(r.globalCompositeOperation="destination-out",r.fill(),r.globalCompositeOperation="source-over"),n.fill?(r.fillStyle=n.color,r.fill()):r.stroke(),r.restore()}clearCanvas(t){t.getContext("2d").clearRect(0,0,t.width,t.height)}circleXY(t,e){const i=(e-90)*Math.PI/180;return{x:t*Math.cos(i),y:-t*Math.sin(i)}}}},327:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InputText=void 0;const s=i(317);e.InputText=class{constructor(t,e,i,s,n){this.inputText=t,this.inputTextAux=e,this.rootElement=i,this.isPassword=s,this.inputTextValue="",this.inputTextAuxValue="",this.inputTextValue=i.getAttribute("p")||"",this.inputTextAuxValue="",this.rotaryValues=n}setRotaryValues(t){this.promoteAuxValue(),this.rotaryValues=t}setAuxIndex(t){if(!this.rotaryValues[t])return;let e;const i=s.findValue(this.inputTextAuxValue,this.rotaryValues);!i||i.rowIndex!==t||i.valueIndex>=this.rotaryValues[t].text.length-1?(this.promoteAuxValue(),e=this.rotaryValues[t].text[0]):e=this.rotaryValues[t].text[i.valueIndex+1],this.inputTextAuxValue=e,this.redraw()}promoteAuxValue(){this.stopPromotionTimeout(),this.inputTextAuxValue&&(this.inputTextValue=`${this.inputTextValue}${this.inputTextAuxValue}`),this.inputTextAuxValue="",this.redraw()}redraw(){const t=this.isPassword?"*".repeat(this.inputTextValue.length):this.inputTextValue,e=this.isPassword?"*".repeat(this.inputTextAuxValue.length):this.inputTextAuxValue;this.inputText.textContent=t,this.inputTextAux.textContent=e,this.rootElement.setAttribute("p",`${this.inputTextValue}${this.inputTextAuxValue}`)}startPromotionTimeout(){this.stopPromotionTimeout(),this.promotionTimeout=setTimeout((()=>{this.promoteAuxValue()}),3e3)}stopPromotionTimeout(){this.promotionTimeout&&(clearTimeout(this.promotionTimeout),this.promotionTimeout=void 0)}backspace(){this.promoteAuxValue(),this.inputTextValue=this.inputTextValue.length>0?this.inputTextValue.substring(0,this.inputTextValue.length-1):this.inputTextValue,this.redraw()}}},81:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RotaryDialMachine=void 0;const s=i(317);function n(t,e){return{x:e.x-t.x,y:e.y-t.y}}function r(t){return Math.sqrt(t.x**2+t.y**2)}function o(t,e){return t.x*e.x+t.y*e.y}function a(t,e){return t.x*e.y-t.y*e.x}e.RotaryDialMachine=class{constructor(t,e){this.rotaryDial=e,this.currentRotationDegrees=0,this.index=null,this.currentRotaryValueIndex=null,this.currentRotaryAuxIndex=-1,this.center={x:t.x+t.width/2,y:t.y+t.height/2}}userDown(t){if(this.lockInput)return;this.startUserPosition=t,this.lastUserPosition=t;const e=n(this.center,Object.assign(Object.assign({},this.center),{x:this.center.x+10})),i=n(this.center,t),u=Math.acos(o(e,i)/(r(e)*r(i))),l=a(e,i);let c=u*(180/Math.PI);if(l>0&&(c=360-c),this.index=Math.floor((c-s.rotateOffsetDegree)/30),this.index<0||this.index>9)return this.index=null,void(this.startUserPosition=null);this.inputText&&this.inputText.stopPromotionTimeout(),this.maxRotationDegree=45+30*this.index}userMove(t){if(!this.startUserPosition)return;const e=n(this.center,this.lastUserPosition),i=n(this.center,t),s=Math.acos(o(e,i)/(r(e)*r(i))),u=s*(180/Math.PI),l=a(e,i);if(this.lastUserPosition=t,!Number.isNaN(s)&&0!==s&&l>0){const t=this.currentRotationDegrees+u;this.hitMinRotationForInput=this.hitMinRotationForInput||t>this.maxRotationDegree-10,this.currentRotationDegrees=t>this.maxRotationDegree?this.maxRotationDegree:t,this.rotaryDial.style.transform=`rotate(${Math.floor(this.currentRotationDegrees)}deg)`}}userUp(){this.startUserPosition&&(this.startUserPosition=null,this.lockInput=!0,this.jogBack())}async jogBack(){if(this.currentRotationDegrees<=0)return this.currentRotationDegrees=0,this.lockInput=!1,this.hitMinRotationForInput&&this.sendInput(),this.inputText&&this.inputText.startPromotionTimeout(),this.hitMinRotationForInput=!1,!0;const t=this.currentRotationDegrees-2;return this.currentRotationDegrees=t>0?t:0,this.rotaryDial.style.transform=`rotate(${this.currentRotationDegrees}deg)`,await async function(t){await new Promise((t=>{setTimeout((()=>{t("")}),4)}))}(),this.jogBack()}sendInput(){this.inputText&&this.inputText.setAuxIndex(this.index)}setInputText(t){this.inputText=t}}},317:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.findValue=e.rotarySpecialValues=e.rotaryLowerValues=e.rotaryUpperValues=e.maxRotationOffset=e.rotateOffsetDegree=e.rotarySelectOffset=e.mainOffset=void 0,e.mainOffset=110,e.rotarySelectOffset=30,e.rotateOffsetDegree=5,e.maxRotationOffset=45,e.rotaryUpperValues=[{text:["1"]},{text:["2","A","B","C"]},{text:["3","D","E","F"]},{text:["4","G","H","I"]},{text:["5","J","K","L"]},{text:["6","M","N","O"]},{text:["7","P","R","S"]},{text:["8","T","U","V"]},{text:["9","W","X","Y"]},{text:["0"]}],e.rotaryLowerValues=[{text:["1"]},{text:["2","a","b","c"]},{text:["3","d","e","f"]},{text:["4","g","h","i"]},{text:["5","j","k","l"]},{text:["6","m","n","o"]},{text:["7","p","r","s"]},{text:["8","t","u","v"]},{text:["9","w","x","y"]},{text:["0"]}],e.rotarySpecialValues=[{text:["1","!","`","~"]},{text:["2","@","[","]"]},{text:["3","#","{","}"]},{text:["4","$","/","="]},{text:["5","%","?","+"]},{text:["6","^","-","_"]},{text:["7","&",":",";"]},{text:["8","*","\\","|"]},{text:["9","(",'"',","]},{text:["0",")",".","'"]}],e.findValue=(t,e)=>{const i=e.findIndex((e=>e.text.includes(t)));return i<0?null:{rowIndex:i,valueIndex:e[i].text.findIndex((e=>e===t))}}}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var r=e[s]={exports:{}};return t[s](r,r.exports,i),r.exports}(()=>{const t=i(166),e=i(327),s=i(81),n=i(317);let r,o,a,u,l,c,d,h,x,y,m,p,f,w,g,T,v,b=n.rotaryLowerValues;function O(t){t.classList.remove("border-violet-300"),t.classList.add("border-slate-300")}function V(t){t.classList.remove("border-slate-300"),t.classList.add("border-violet-300")}function E(t){I(w),I(g),I(T),t.classList.remove("hover:bg-blue-700"),t.classList.remove("bg-blue-500"),t.classList.add("bg-blue-900"),t===w&&C(n.rotaryLowerValues),t===g&&C(n.rotaryUpperValues),t===T&&C(n.rotarySpecialValues)}function I(t){t.classList.remove("bg-blue-500"),t.classList.remove("bg-blue-900"),t.classList.add("bg-blue-500"),t.classList.add("hover:bg-blue-700")}function C(t){v.setRotaryValues(t),null==f||f.setRotaryValues(t),b=t}window.init=function(){o=document.getElementById("rotaryDial"),r=document.getElementById("rotaryPin"),u=document.getElementById("rotaryBaseCanvas"),l=document.getElementById("rotaryDialCanvas"),c=document.getElementById("rotaryPinCanvas"),d=document.getElementById("usernameText"),h=document.getElementById("usernameTextValue"),x=document.getElementById("usernameTextAux"),y=document.getElementById("passwordText"),m=document.getElementById("passwordTextValue"),p=document.getElementById("passwordTextAux"),w=document.getElementById("selectorLowerCase"),g=document.getElementById("selectorUpperCase"),T=document.getElementById("selectorSpecialCase"),v=new t.CanvasDrawer(u,l,c,b),a=new s.RotaryDialMachine(o.getBoundingClientRect(),o),d.addEventListener("mousedown",(t=>{O(y),V(d),f=new e.InputText(h,x,d,!1,b),a.setInputText(f)})),y.addEventListener("mousedown",(t=>{O(d),V(y),f=new e.InputText(m,p,y,!0,b),a.setInputText(f)})),document.body.addEventListener("mouseup",(t=>{a.userUp()})),o.addEventListener("mousedown",(t=>{a.userDown({x:t.x,y:t.y})})),r.addEventListener("mousedown",(t=>{a.userDown({x:t.x,y:t.y})})),document.body.addEventListener("mousemove",(t=>{a.userMove({x:t.x,y:t.y})})),document.body.addEventListener("keydown",(t=>{"Backspace"===t.code&&f&&f.backspace()})),w.addEventListener("mousedown",(t=>{E(w)})),g.addEventListener("mousedown",(t=>{E(g)})),T.addEventListener("mousedown",(t=>{E(T)})),d.addEventListener("touchstart",(t=>{O(y),V(d),f=new e.InputText(h,x,d,!1,b),a.setInputText(f)})),y.addEventListener("touchstart",(t=>{O(d),V(y),f=new e.InputText(m,p,y,!0,b),a.setInputText(f)})),document.body.addEventListener("touchend",(t=>{a.userUp()})),document.body.addEventListener("touchcancel",(t=>{a.userUp()})),o.addEventListener("touchstart",(t=>{const e=t.touches.item(0);a.userDown({x:e.pageX,y:e.pageY})})),r.addEventListener("touchstart",(t=>{const e=t.touches.item(t.touches.length-1);a.userDown({x:e.pageX,y:e.pageY})})),document.body.addEventListener("touchmove",(t=>{const e=t.touches.item(t.touches.length-1);a.userMove({x:e.pageX,y:e.pageY})})),document.body.addEventListener("keydown",(t=>{"Backspace"===t.code&&f&&f.backspace()})),w.addEventListener("mousedown",(t=>{E(w)})),g.addEventListener("mousedown",(t=>{E(g)})),T.addEventListener("mousedown",(t=>{E(T)})),E(g),d.dispatchEvent(new MouseEvent("mousedown",{view:window,bubbles:!0,cancelable:!1}))},window.login=function(){const t=d.getAttribute("p"),e=y.getAttribute("p");"root"===t&&"fo0B4r!"===e?window.alert(`LOGIN SUCCESSFUL! ${t}:${e}`):window.alert(`LOGIN UNSUCCESSFUL? ${t}:${e}`)},window.selectorActivate=E})()})();
//# sourceMappingURL=bundle.js.map